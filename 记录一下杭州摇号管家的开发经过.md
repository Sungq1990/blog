---
title: è®°å½•ä¸€ä¸‹æ­å·æ‘‡å·ç®¡å®¶çš„å¼€å‘ç»è¿‡
date: 2018-11-26 17:19:14
tags: å°ç¨‹åº vue mpvue php æ­å·æ‘‡å·
---
çœ‹äº†ä¸‹ç¬¬ä¸€æ¬¡æäº¤ï¼Œæ˜¯åœ¨2018å¹´5æœˆ5å·ï¼Œåˆ°ç°åœ¨å·®ä¸å¤š6ä¸ªæœˆåŠå¹´äº†ï¼Œåšè¿™ä¸ªçš„åŸå› ä¸»è¦æ˜¯ä¸Šäº†è…¾è®¯äº‘çš„è½¦ï¼Œæƒ³ç€ä¸€å¹´å¤šä¸€ç‚¹æœåŠ¡å™¨å°±æŒ‚ä¸ªåšå®¢å¤ªæµªè´¹äº†ï¼Œå°±æƒ³ç€æŠ˜è…¾ä¸ªå°ç¨‹åºï¼Œå…ˆçœ‹ä¸‹å¤§ä½“çš„æŠ€æœ¯çº¿
![](https://ws3.sinaimg.cn/large/006tNbRwly1fy9shdba01j31970u0n7r.jpg)
<!--more-->
#### çœ‹ä¸‹æ•ˆæœ
###### å°ç¨‹åºç«¯:
<center>![](https://ws4.sinaimg.cn/large/006tNbRwly1fy9sjkhny4j30fi0ru0xh.jpg)
![](https://ws4.sinaimg.cn/large/006tNbRwly1fxljmp9txoj30fr0rxtdv.jpg)
![](https://ws1.sinaimg.cn/large/006tNbRwly1fxljn8vedtj30fo0s4abm.jpg)
![](https://ws3.sinaimg.cn/large/006tNbRwly1fxljnxih34j30fs0ru40l.jpg)
æ‰«ç ä½“éªŒ
ğŸ‘‡ğŸ‘‡ğŸ‘‡
![](https://i.loli.net/2019/03/18/5c8f408a3e96d.jpg)</center>
###### ç®¡ç†åå°:
![](https://ws4.sinaimg.cn/large/006tNbRwly1fxlka09khnj31pn0u0ke2.jpg)
![](https://ws3.sinaimg.cn/large/006tNbRwly1fxlkabj9evj31yq0rygsx.jpg)
![](https://ws1.sinaimg.cn/large/006tNbRwly1fxlkakyrnej31rv0u0gvy.jpg)

##### æ‚è®°
ä½œä¸ºä¸€ååç«¯ï¼Œä¸»è¦è®²è®²åç«¯çš„äº‹ï¼Œå‰ç«¯å°±ä¸è¯´äº†ã€‚
###### æ¥å£åè®®
æ¥å£ç»Ÿä¸€ä½¿ç”¨postï¼Œcontent-typeä¸ºjsonï¼Œå¼€å¯gzipå‹ç¼©æé«˜æ€§èƒ½ï¼Œæ ‡è¯†ç¬¦ä»¥åŠæ¥å£ç­¾åéƒ½æ”¾åœ¨headerå¤´ï¼Œç­¾åä½¿ç”¨sha1ç®—æ³•ç”Ÿæˆ
```
header: {
  'Cache-Control': 'no-cache',
  'Content-Type': 'application/json',
  'Account-Key': key,
  'Signature': sha1(JSON.stringify(params) + Timestamp + Random + signature),
  'UTC-Timestamp': Timestamp,
  'Random': Random
}
```
é€šè¿‡æ—¶é—´æˆ³å’Œç­¾åæ¥å£åŒæ—¶åšé˜²é‡æ”¾å¤„ç†ï¼Œå°†Signatureå­˜å…¥redisä¸­ï¼Œ3600ç§’å†…æ‹’ç»ç›¸åŒè¯·æ±‚ä½“
è¾“å…¥å‚æ•°(å³è¯·æ±‚body)çº¦å®šï¼ˆJsonæ ¼å¼ï¼‰
```
{
    "page":"é¡µç (é»˜è®¤1) [int]",
    "pagesize":"é¡µå¤§å°ï¼ˆé»˜è®¤20ï¼‰[int]",
    "unionId":"å”¯ä¸€æ ‡è¯† [require | string]",
    "token":"sso_token [string]",
    "package":"public_platform.yaohao.house",
    "class":"GET_YI_FANG_YI_JIA"
}
```
å…¶ä¸­packageä¸ºæ¥å£pathï¼Œclassä¸ºè¯¥pathä¸‹çš„å…·ä½“å®ç°
è¾“å‡ºå‚æ•°
```
{
    "result":{
        "list":{
            "floor":"æ¥¼æ ‹ [require | string]",
            "room":"æˆ¿å· [require | string]",
            "area":"å»ºç­‘é¢ç§¯(ã¡) [require | string]",
            "rate":"å¾—æˆ¿ç‡(%) [require | string]",
            "record_price":"ç”³è¯·å¤‡æ¡ˆå•ä»·(å…ƒ\/ã¡) [require | string]",
            "decorate_price":"è£…ä¿®ä»·æ ¼(å…ƒ\/ã¡) [require | string]",
            "total_price":"æ€»ä»·(ä¸‡å…ƒ) [require | string]"
        },
        "total":"æ€»é¡µç  [require | int]",
        "page":"é¡µç (é»˜è®¤1) [require | int]",
        "pagesize":"é¡µå¤§å°ï¼ˆé»˜è®¤20ï¼‰ [require | int]"
    },
    "status":{
        "code":"status code [string | min:3 | max:5]",
        "msg":"status message [string]",
        "runtime":"api runtime(ms) [double]"
    }
}
```
å…¶ä¸­statusä¸ºæ¥å£çŠ¶æ€é›†åˆï¼Œä¸»è¦è®°å½•å“åº”çŠ¶æ€ç ã€å“åº”msgã€æ‰§è¡Œæ—¶é—´ï¼Œresultåˆ™ä¸ºå…·ä½“çš„ä¸šåŠ¡æ•°æ®é›†åˆ
###### è¿”å›çŠ¶æ€å€¼è¯´æ˜
çº¦å®šç»Ÿä¸€çš„è¾“å…¥è¾“å‡ºæ ¼å¼æ˜¯ä¸€åˆ‡çš„åŸºç¡€ï¼Œè¿™é‡Œè¯´ä¸€ä¸‹è¿”å›çŠ¶æ€å€¼ã€‚æœ¬ç³»ç»Ÿçº¦å®šæˆåŠŸçš„å“åº”çŠ¶æ€å€¼ä¸º00000ï¼Œ0ä»¥ä¸‹ä¸ºå”¯ä¸€çš„ç‰¹æ®Šå“åº”ç ï¼Œä¸»è¦å¤„ç†ä¸€äº›ç‰¹æ®Šé€»è¾‘ï¼Œæ¯”å¦‚-1ä¸ºtokenå¤±æ•ˆé‡æ–°ç™»å½•ï¼Œ-2ä¸ºå±é™©ç”¨æˆ·å…³é—­ï¼Œ-3ä¸ºå¼ºåˆ¶æ›´æ–°ç­‰ç­‰ï¼Œå±äºç³»ç»Ÿçº§çš„çŠ¶æ€ç ï¼›å¤§äº0çš„çŠ¶æ€ç æš‚æ—¶åˆ†ä¸º2ç§ï¼Œå…¶ä¸­1~199999ä¸ºå¸¸è§„çš„éœ€è¦å¼¹çª—æç¤ºçš„ä¸šåŠ¡çŠ¶æ€ç ï¼Œ200000~299999ä¸ºä¸éœ€è¦å¼¹çª—çš„ç‰¹æ®Šä¸šåŠ¡é€»è¾‘ç ï¼Œæ¯”å¦‚é¡µé¢è·³è½¬ç­‰ã€‚

###### æ¥å£æ–‡æ¡£ç®¡ç†
æ¥å£æ–‡æ¡£ç®¡ç†å·¥å…·æœ‰å¾ˆå¤šï¼Œå¾ˆå¤šäººä¹Ÿä¼šå†™æ¥å£æ–‡æ¡£ï¼Œä½†æ˜¯åŸºæœ¬ä¸Šéšç€ä¸šåŠ¡çš„å¿«é€Ÿè¿­ä»£è€Œå¹´ä¹…å¤±ä¿®ï¼Œç­‰åé¢çš„äººæ¥æ‰‹æ—¶åŸºæœ¬ä¸Šè¿™æ–‡æ¡£å·²ç»ä¸èƒ½ç”¨äº†ã€‚æ‰€ä»¥æœ€å¥½çš„æ–¹å¼æ˜¯ä»£ç å’Œæ–‡æ¡£ç»“åˆåœ¨ä¸€èµ·ï¼Œæ¯æ¬¡ä¿®æ”¹æ¥å£æ—¶å°±ä¼šå“åº”çš„ä¿®æ”¹æ–‡æ¡£
![](https://i.loli.net/2019/03/18/5c8f5209d835c.jpg)
![](https://i.loli.net/2019/03/18/5c8f522ad188a.jpg)
è¿™ä¸ªæ˜¯ä¹‹å‰å…¬å¸çš„ä½¿ç”¨æ¡†æ¶ï¼Œä¹Ÿæ˜¯ç°åœ¨æ‘‡å·ç®¡å®¶ä½¿ç”¨çš„æ¡†æ¶ï¼ŒåŸºäºLumençš„æ”¹é€ ï¼Œé›†æ–‡æ¡£ã€ä»£ç ã€è°ƒè¯•äºä¸€ä½“



